#!/bin/zsh
set -Ceu
dir=WD30EFRX
uroot=/tmp/`whoami`
mount=/mnt/$dir

smb="racoon.local"
ver="arcticfox.local"

if [ ! -e $mount ]; then
	mkdir $mount
fi

if [ $# = 0 ]; then
	sshfs -o allow_root $smb:/mnt/$dir $mount
elif [ $# = 1 ]; then
	if [ $1 = "arc" ]; then
		if [ ! -e $uroot/mnt ]; then
			mkdir $uroot/mnt
		fi
		sshfs -o allow_root $ver:/mnt  $uroot/mnt
		sshfs -o allow_root $ver:/mnt/disk1 /mnt/disk1
	fi

	if [ $1 = "tmp" ]; then
		if [ ! -e $uroot/$dir ]; then
			mkdir $uroot/$dir
		fi
		sshfs -o allow_root $smb:/mnt/$dir $uroot/$dir
	fi
elif [ $# = 2 ]; then
	if [ $1 = "remote" ]; then
		if [ $2 = "arc" ]; then
			if [ ! -e $uroot/mnt ]; then
				mkdir $uroot/mnt
			fi
		sshfs -o allow_root remote.arcticfox:/mnt  $uroot/mnt
			sshfs -o allow_root remote.arcticfox:/mnt/disk1 /mnt/disk1
		fi
		if [ $2 = "racoon" ]; then
			sshfs -o allow_root remote.racoon:/mnt/$dir $mount
		fi
	fi
fi

